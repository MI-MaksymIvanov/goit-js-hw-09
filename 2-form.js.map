{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormEl = document.querySelector('.js-feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\n(() => {\n  try {\n    const storageData = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (storageData === null) {\n      return;\n    }\n\n    formData = storageData;\n\n    for (const key in storageData) {\n      if (feedbackFormEl.elements[key]) {\n        feedbackFormEl.elements[key].value = storageData[key];\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n})();\n\nconst onFormFieldInput = event => {\n  const { value, name } = event.target;\n\n  formData[name] = value.trim();\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFormFieldSubmit = event => {\n  event.preventDefault();\n\n  const isEmptyFields = Object.values(formData).some(value => value === '');\n  if (isEmptyFields) {\n    alert('Please, fill in all fields');\n  } else {\n    console.log(formData);\n  }\n\n  feedbackFormEl.reset();\n  localStorage.removeItem('feedback-form-state');\n\n  formData = { email: '', message: '' };\n};\n\nfeedbackFormEl.addEventListener('input', onFormFieldInput);\nfeedbackFormEl.addEventListener('submit', onFormFieldSubmit);\n"],"names":["feedbackFormEl","formData","storageData","key","error","onFormFieldInput","event","value","name","onFormFieldSubmit"],"mappings":"wFAAA,MAAMA,EAAiB,SAAS,cAAc,mBAAmB,EAEjE,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,GAEC,IAAM,CACL,GAAI,CACF,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE1E,GAAIA,IAAgB,KAClB,OAGFD,EAAWC,EAEX,UAAWC,KAAOD,EACZF,EAAe,SAASG,CAAG,IAC7BH,EAAe,SAASG,CAAG,EAAE,MAAQD,EAAYC,CAAG,EAGzD,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,CACA,GAAI,EAEJ,MAAMC,EAAmBC,GAAS,CAChC,KAAM,CAAE,MAAAC,EAAO,KAAAC,CAAM,EAAGF,EAAM,OAE9BL,EAASO,CAAI,EAAID,EAAM,KAAM,EAE7B,aAAa,QAAQ,sBAAuB,KAAK,UAAUN,CAAQ,CAAC,CACtE,EAEMQ,EAAoBH,GAAS,CACjCA,EAAM,eAAgB,EAEA,OAAO,OAAOL,CAAQ,EAAE,KAAKM,GAASA,IAAU,EAAE,EAEtE,MAAM,4BAA4B,EAElC,QAAQ,IAAIN,CAAQ,EAGtBD,EAAe,MAAO,EACtB,aAAa,WAAW,qBAAqB,EAE7CC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAI,CACvC,EAEAD,EAAe,iBAAiB,QAASK,CAAgB,EACzDL,EAAe,iBAAiB,SAAUS,CAAiB"}